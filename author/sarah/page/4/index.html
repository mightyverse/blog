<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US">
<!--<![endif]-->

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>sarah | Mightyblog | Page 4</title>
    <link rel="profile" href="https://gmpg.org/xfn/11" />
    <link rel="pingback" href="/xmlrpc.php">
    <!--[if lt IE 9]>
<script src="/wp-content/themes/twentytwelve/js/html5.js?ver=3.7.0" type="text/javascript"></script>
<![endif]-->
    <meta name='robots' content='max-image-preview:large' />
    <link rel='dns-prefetch' href='//fonts.googleapis.com' />
    <link rel='dns-prefetch' href='//s.w.org' />
    <link href='https://fonts.gstatic.com' crossorigin rel='preconnect' />
    <link rel="alternate" type="application/rss+xml" title="Mightyblog &raquo; Feed" href="/feed/" />
    <link rel="alternate" type="application/rss+xml" title="Mightyblog &raquo; Comments Feed" href="/comments/feed/" />
    <link rel="alternate" type="application/rss+xml" title="Mightyblog &raquo; Posts by sarah Feed"
        href="/author/sarah/feed/" />
    <script type="text/javascript">
        window._wpemojiSettings = { "baseUrl": "https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/", "ext": ".png", "svgUrl": "https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/", "svgExt": ".svg", "source": { "concatemoji": "https:\/\/blog.mightyverse.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.7" } };
        !function (e, a, t) { var n, r, o, i = a.createElement("canvas"), p = i.getContext && i.getContext("2d"); function s(e, t) { var a = String.fromCharCode; p.clearRect(0, 0, i.width, i.height), p.fillText(a.apply(this, e), 0, 0); e = i.toDataURL(); return p.clearRect(0, 0, i.width, i.height), p.fillText(a.apply(this, t), 0, 0), e === i.toDataURL() } function c(e) { var t = a.createElement("script"); t.src = e, t.defer = t.type = "text/javascript", a.getElementsByTagName("head")[0].appendChild(t) } for (o = Array("flag", "emoji"), t.supports = { everything: !0, everythingExceptFlag: !0 }, r = 0; r < o.length; r++)t.supports[o[r]] = function (e) { if (!p || !p.fillText) return !1; switch (p.textBaseline = "top", p.font = "600 32px Arial", e) { case "flag": return s([127987, 65039, 8205, 9895, 65039], [127987, 65039, 8203, 9895, 65039]) ? !1 : !s([55356, 56826, 55356, 56819], [55356, 56826, 8203, 55356, 56819]) && !s([55356, 57332, 56128, 56423, 56128, 56418, 56128, 56421, 56128, 56430, 56128, 56423, 56128, 56447], [55356, 57332, 8203, 56128, 56423, 8203, 56128, 56418, 8203, 56128, 56421, 8203, 56128, 56430, 8203, 56128, 56423, 8203, 56128, 56447]); case "emoji": return !s([55357, 56424, 8205, 55356, 57212], [55357, 56424, 8203, 55356, 57212]) }return !1 }(o[r]), t.supports.everything = t.supports.everything && t.supports[o[r]], "flag" !== o[r] && (t.supports.everythingExceptFlag = t.supports.everythingExceptFlag && t.supports[o[r]]); t.supports.everythingExceptFlag = t.supports.everythingExceptFlag && !t.supports.flag, t.DOMReady = !1, t.readyCallback = function () { t.DOMReady = !0 }, t.supports.everything || (n = function () { t.readyCallback() }, a.addEventListener ? (a.addEventListener("DOMContentLoaded", n, !1), e.addEventListener("load", n, !1)) : (e.attachEvent("onload", n), a.attachEvent("onreadystatechange", function () { "complete" === a.readyState && t.readyCallback() })), (n = t.source || {}).concatemoji ? c(n.concatemoji) : n.wpemoji && n.twemoji && (c(n.twemoji), c(n.wpemoji))) }(window, document, window._wpemojiSettings);
    </script>
    <style type="text/css">
        img.wp-smiley,
        img.emoji {
            display: inline !important;
            border: none !important;
            box-shadow: none !important;
            height: 1em !important;
            width: 1em !important;
            margin: 0 .07em !important;
            vertical-align: -0.1em !important;
            background: none !important;
            padding: 0 !important;
        }
    </style>
    <link rel='stylesheet' id='wp-block-library-css' href='/wp-includes/css/dist/block-library/style.min.css?ver=5.7'
        type='text/css' media='all' />
    <link rel='stylesheet' id='wp-block-library-theme-css'
        href='/wp-includes/css/dist/block-library/theme.min.css?ver=5.7' type='text/css' media='all' />
    <link rel='stylesheet' id='twentytwelve-fonts-css'
        href='https://fonts.googleapis.com/css?family=Open+Sans%3A400italic%2C700italic%2C400%2C700&#038;subset=latin%2Clatin-ext&#038;display=fallback'
        type='text/css' media='all' />
    <link rel='stylesheet' id='twentytwelve-style-css' href='/wp-content/themes/twentytwelve/style.css?ver=20190507'
        type='text/css' media='all' />
    <link rel='stylesheet' id='twentytwelve-block-style-css'
        href='/wp-content/themes/twentytwelve/css/blocks.css?ver=20190406' type='text/css' media='all' />
    <!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='/wp-content/themes/twentytwelve/css/ie.css?ver=20150214' type='text/css' media='all' />
<![endif]-->
    <script type='text/javascript' src='/wp-includes/js/jquery/jquery.min.js?ver=3.5.1' id='jquery-core-js'></script>
    <script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2'
        id='jquery-migrate-js'></script>
    <script type='text/javascript' src='/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.5.4'
        id='ga-external-tracking-js'></script>
    <link rel="https://api.w.org/" href="/wp-json/" />
    <link rel="alternate" type="application/json" href="/wp-json/wp/v2/users/84" />
    <link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" />
    <meta name="generator" content="WordPress 5.7" />
    <style type="text/css">
        .recentcomments a {
            display: inline !important;
            padding: 0 !important;
            margin: 0 !important;
        }
    </style>
    <!-- Google Analytics Tracking by Google Analyticator 6.5.4: http://www.videousermanuals.com/google-analyticator/ -->
    <script type="text/javascript">
        var analyticsFileTypes = [''];
        var analyticsSnippet = 'enabled';
        var analyticsEventTracking = 'enabled';
    </script>
    <script type="text/javascript">
        var _gaq = _gaq || [];

        _gaq.push(['_setAccount', 'UA-9675195-1']);
        _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google
        _gaq.push(['_gat._anonymizeIp']);
        _gaq.push(['_setDomainName', 'mightyverse.com']);

        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>
</head>

<body
    class="archive paged author author-sarah author-84 wp-embed-responsive paged-4 author-paged-4 custom-font-enabled">
    <div id="page" class="hfeed site">
        <header id="masthead" class="site-header" role="banner">
            <hgroup>
                <h1 class="site-title"><a href="/" title="Mightyblog" rel="home">Mightyblog</a></h1>
                <h2 class="site-description">Blog by Mightyverse people</h2>
            </hgroup>

            <nav id="site-navigation" class="main-navigation" role="navigation">
                <button class="menu-toggle">Menu</button>
                <a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
                <div class="nav-menu">
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li class="page_item page-item-70"><a href="/about/">About</a></li>
                        <li class="page_item page-item-7"><a href="/contact/">Contact</a></li>
                        <li class="page_item page-item-778"><a href="/faq/">FAQ</a></li>
                    </ul>
                </div>
            </nav><!-- #site-navigation -->

        </header><!-- #masthead -->

        <div id="main" class="wrapper">

            <section id="primary" class="site-content">
                <div id="content" role="main">



                    <header class="archive-header">
                        <h1 class="archive-title">
                            Author Archives: <span class="vcard"><a class="url fn n" href="/author/sarah/" title="sarah"
                                    rel="me">sarah</a></span> </h1>
                    </header><!-- .archive-header -->


                    <nav id="nav-above" class="navigation" role="navigation">
                        <h3 class="assistive-text">Post navigation</h3>
                        <div class="nav-previous"></div>
                        <div class="nav-next"><a href="/author/sarah/page/3/">Newer posts <span
                                    class="meta-nav">&rarr;</span></a></div>
                    </nav><!-- .navigation -->



                    <article id="post-422"
                        class="post-422 post type-post status-publish format-standard hentry category-uncategorized">
                        <header class="entry-header">

                            <h1 class="entry-title">
                                <a href="/2010/05/navi-language-code/" rel="bookmark">Na&#039;vi language code</a>
                            </h1>
                            <div class="comments-link">
                                <a href="/2010/05/navi-language-code/#comments">3 Replies</a>
                            </div><!-- .comments-link -->
                        </header><!-- .entry-header -->

                        <div class="entry-content">
                            <p>Today, I needed to look up a language code for <a
                                    href="http://en.wikipedia.org/wiki/Na%27vi_language">Na&#8217;vi</a>, the language
                                natively spoken on the fictional moon Pandora, created by Paul Frommer for the movie
                                Avatar.  When adding a new language to Mightyverse, we record the ISO codes and use them
                                in the URL of a search and someday we&#8217;ll cross-link with amazing language
                                resources like <a href="http://www.ethnologue.com/">Ethnologue</a>. Usually these codes
                                are easy to find.  Not today.</p>
                            <p>I worry when the most authoritative reference I can find is wikipedia, which reports that
                                the ISO 639-2 code is &#8216;art&#8217;.</p>
                            <p><img loading="lazy" class="alignnone" title="wikipedia"
                                    src="http://img.skitch.com/20100503-fg6wem6ysqwbet2a7pu82yg6sj.png" alt=""
                                    width="289" height="154" /></p>
                            <p>Language identification moves at infrequent intervals.  It is not like being assigned a
                                port number. I read further that the most recent <a
                                    href="http://www.sil.org/iso639-3/">ISO 639-3</a> change request list was approved
                                on January 20, 2010 and I didn&#8217;t see Na&#8217;vi there.  It is likely queued up
                                with the 2010 change requests.</p>
                            <p>I read that ISO uses the prefix &#8216;art&#8217; for artificial languages.  (The art
                                code is on the <a href="http://www.loc.gov/standards/iso639-2/php/code_list.php">639-2
                                    list</a> and therefore also part of 639-3).  So, the full RFC3066 (really RFC4646)
                                code would be &#8216;art-nav&#8217;, which is also the <a
                                    href="http://en.wiktionary.org/wiki/Wiktionary:Language_codes">wiktionary</a> code. 
                                So, until we get the official word in January 2011 or whenever RFC4646 codes get
                                ratified, here&#8217;s what I&#8217;m going with:</p>
                            <ul>
                                <li>ISO 639-1:  n/a</li>
                                <li>ISO 639-2:  art</li>
                                <li>ISO 639-3: art</li>
                                <li>RFC3066  : art-nav</li>
                            </ul>
                        </div><!-- .entry-content -->

                        <footer class="entry-meta">
                            This entry was posted in <a href="/category/uncategorized/"
                                rel="category tag">Uncategorized</a> on <a href="/2010/05/navi-language-code/"
                                title="10:23 am" rel="bookmark"><time class="entry-date"
                                    datetime="2010-05-03T10:23:59-07:00">May 3, 2010</time></a><span class="by-author">
                                by <span class="author vcard"><a class="url fn n" href="/author/sarah/"
                                        title="View all posts by sarah" rel="author">sarah</a></span></span>. </footer>
                        <!-- .entry-meta -->
                    </article><!-- #post -->

                    <article id="post-141"
                        class="post-141 post type-post status-publish format-standard hentry category-uncategorized">
                        <header class="entry-header">

                            <h1 class="entry-title">
                                <a href="/2009/12/ruby-language/" rel="bookmark">Ruby language</a>
                            </h1>
                            <div class="comments-link">
                                <a href="/2009/12/ruby-language/#comments">6 Replies</a>
                            </div><!-- .comments-link -->
                        </header><!-- .entry-header -->

                        <div class="entry-content">
                            <p>I attended <a href="http://www.rubyconf.org/">RubyConf</a> in San Francisco last month,
                                which is an annual conference about the Ruby programming language. Yukihiro Matsumoto
                                (&#8220;Matz&#8221;), the creator of the Ruby language, gave the <a
                                    href="http://rubyconf2009.confreaks.com/19-nov-2009-09-00-keynote-yukuhiro-matz-matsumoto.html">keynote</a>
                                about the 0.8 true language: a language can&#8217;t be good for everyone and every
                                purpose, but we can strive to make it good for 80% of what is needed in a programming
                                language. He talked about domain-specific languages (DSLs) and, while he was talking
                                about programming DSLs, it struck me that we, as humans, commonly invent domain-specific
                                languages that transcend our social cultures, instead encoding a culture that crosses
                                national and linguistic boundaries.</p>
                            <p><a href="http://yugui.jp/">Yuki Sonoda</a> organized a series of talks called <a
                                    href="http://www.rubyconf.org/talks/171-east-meets-west">East meets West</a> with
                                presentations by Japanese Rubyists. In her talk description, she makes the case for our
                                bridging the Japanese-English language gap between Ruby programmers:</p>
                            <blockquote>
                                <p>Ruby needs your help. There are many issues. But there are too few developers. 92% of
                                    Ruby&#8217;s development in this 3 years were done by only 10 developers. 73% were
                                    done by only 5 developers. Ruby seems to be a cathedral project rather than a bazaar
                                    project.<br />
                                    There must be many reasons for this situation. I think a large reason is the
                                    language barrier between English-speaking Ruby world and Japanese-speaking Ruby
                                    world. So I will talk about how to solve this problem.<br />
                                    All of the top 10 committers speak Japanese and live in Japan. So they discuss in
                                    Japanese. Some of the most important decisions are done in these discussions. But
                                    this means that most of Rubyists, who do not speak Japanese, can not understand the
                                    discussions. For non-Japanese speakers, there has been no way to understand the most
                                    important issues in the development of Ruby.<br />
                                    I want to share the current issues of Ruby. I also want to request help from
                                    Rubyists who don&#8217;t speak Japanese.</p>
                            </blockquote>
                            <p>There were two &#8220;lightning&#8221; tech talks given by Japanese Rubyist who each said
                                that it was their first English language presentation. I started to think about what
                                kind of vocabulary I would need to give a tech talk in Japanese or even just to
                                understand one.</p>
                            <p>I approached Matz after his keynote to ask if he would record some phrases about the Ruby
                                language in Japanese. He agreed, and I set out to capture a dozen or so phrases that
                                would never appear in a phrasebook and might be interesting to say to a Japanese Rubyist
                                at a conference.</p>
                            <p>I approached random people in the hallways and during lunch and asked questions like: if
                                you would to use the word &#8220;closure&#8221; in a sentence, what would it be? Jim
                                Weirich came up with my <a
                                    href="https://www.mightyverse.com/media/e426e144-80bc-4394-837c-b5461da4bb82">favorite</a>:
                                &#8220;Closures may be used to implement objects, and object may be used to implement
                                closures.&#8221; <a href="http://www.sarahmei.com/blog/">Sarah Mei</a> wondered how to
                                read code aloud in Japanese &#8212; when would you use a Japanese word and when is the
                                code pronounced phonetically. She guessed correctly that you would say
                                &#8220;object.method&#8221; phonetically as <a
                                    href="https://www.mightyverse.com/media/6d18e1d9-c647-4960-9bdd-793936cf8404">obujekuto
                                    dotto mesoddo</a>. I was intrigued that what Ruby calls the &#8220;shovel&#8221;
                                operator (&lt;&lt;) is phonetically derived from the bitshift operator which has the
                                same symbolic representation in C and Java, and is thus translated as <a
                                    href="https://www.mightyverse.com/media/174e4abb-c957-4e25-a5c5-4ee0c0367f42">bitto
                                    shifuto</a>.</p>
                            <p>You can see all of the phrases that Matz recorded on <a
                                    href="https://www.mightyverse.com/">the home page</a>. One of these days, I will
                                make it so there is a direct link. If you program in Ruby and speak English or Japanese,
                                I&#8217;d be interested in knowing if there domain-specific phrases you would like to be
                                able to say. I wonder if I learned enough &#8220;code&#8221; words along with some basic
                                Japanese whether I could actually understand a Ruby Kaigi talk even before learning how
                                to converse in Japanese.</p>
                            <p>I wish I remembered everyone&#8217;s names who suggested phrases. If you read this,
                                please comment so that I can say thanks! and many thanks to the Japanese engineer who
                                translated the phrases for me and her colleagues who helped! In my zealous pursuit of my
                                goal, I neglected to keep track of everyone who helped me along the way. Thank you all.
                            </p>
                        </div><!-- .entry-content -->

                        <footer class="entry-meta">
                            This entry was posted in <a href="/category/uncategorized/"
                                rel="category tag">Uncategorized</a> on <a href="/2009/12/ruby-language/"
                                title="7:05 pm" rel="bookmark"><time class="entry-date"
                                    datetime="2009-12-21T19:05:27-08:00">December 21, 2009</time></a><span
                                class="by-author"> by <span class="author vcard"><a class="url fn n"
                                        href="/author/sarah/" title="View all posts by sarah"
                                        rel="author">sarah</a></span></span>. </footer><!-- .entry-meta -->
                    </article><!-- #post -->

                    <article id="post-120"
                        class="post-120 post type-post status-publish format-standard hentry category-uncategorized">
                        <header class="entry-header">

                            <h1 class="entry-title">
                                <a href="/2009/11/the-deterioration-of-language/" rel="bookmark">the deterioration of
                                    language</a>
                            </h1>
                            <div class="comments-link">
                                <a href="/2009/11/the-deterioration-of-language/#respond"><span
                                        class="leave-reply">Leave a reply</span></a>
                            </div><!-- .comments-link -->
                        </header><!-- .entry-header -->

                        <div class="entry-content">
                            <p>&#8220;The english of today is not what it used to be, but then again, it never
                                was,&#8221; writes Guy Deutscher in <a href="http://www.unfoldingoflanguage.com/">The
                                    Unfolding of Language</a>. In Chapter 3, he includes a fascination chronology on a
                                few hundred years of so-called decline:</p>
                            <ul>
                                <li>In comparing the English language to that of two generations ago, a reviewer in the
                                    Times Literary Suppliment reminisced that then &#8220;a mistake was a mistake not a
                                    sign of free expression.&#8221;</li>
                                <li>1946 George Orwell wrote &#8220;the English language is in a bad way&#8221; compared
                                    to the language of previous generations</li>
                                <li>1848 linguist August Schleicher dismissed the English of is day as
                                    &#8220;ground-down,&#8221; noting &#8220;how rapidly the language of a
                                    nation&#8230;can sink&#8221; and that it was likely to further &#8220;sink into
                                    mono-syllabicity&#8221;</li>
                                <li>1780 Thomas Sheridan reported a recent decline of the English language &#8220;during
                                    the reign of Queen Anne [1702-14]&#8230; it is probably that English was&#8230;
                                    spoken in its highest state of perfection&#8221;</li>
                                <li>1712 Jonathan Swift wrote &#8220;our Language is extremely imperfect&#8230; its
                                    daily Improvements are by no means in proportion to its daily Corruptions&#8221;
                                </li>
                            </ul>
                            <p>English speakers are not unusual in feeling this way about their language.</p>
                            <blockquote>
                                <p>Take modern German, for instance, which by common consent is a mere shadow of its
                                    former glory two centuries ago, in the Golden Age of Goethe and Schiller. That may
                                    well be, but during Goethe&#8217;s lifetime those in the know were of a rather
                                    different opinion. In 1819, the fairy-tale compiler and linguist Jacob Grimm
                                    compared the langauge of his day to that of previous centuries, and lamented that
                                    &#8220;six hundred years ago, every common peasant knew &#8211;that is to say
                                    practised daily &#8212; perfections and niceties of the German language of which the
                                    best language-teachers nowadays can no longer even dream.</p>
                            </blockquote>
                            <p>The thesis of the book is that this it is precisely this destruction of language where
                                the mystery of language creation lies &#8212; &#8220;all languages change, all the time
                                &#8212; the only static languages are dead ones.&#8221; (p.55)</p>
                            <p>We don&#8217;t have to wait generations to hear the how languages change. It can be
                                witnessed by traveling to different parts of a country or, more dramatically, by
                                listening for differences in dialects of a single language across multiple countries.
                            </p>
                            <p>I highly recommend <a href="http://www.unfoldingoflanguage.com/">the book</a> which is a
                                little academic at times, but full of fascinating historical and modern references that
                                illustrate how languages evolve.</p>
                        </div><!-- .entry-content -->

                        <footer class="entry-meta">
                            This entry was posted in <a href="/category/uncategorized/"
                                rel="category tag">Uncategorized</a> on <a
                                href="/2009/11/the-deterioration-of-language/" title="1:25 pm" rel="bookmark"><time
                                    class="entry-date" datetime="2009-11-11T13:25:53-08:00">November 11,
                                    2009</time></a><span class="by-author"> by <span class="author vcard"><a
                                        class="url fn n" href="/author/sarah/" title="View all posts by sarah"
                                        rel="author">sarah</a></span></span>. </footer><!-- .entry-meta -->
                    </article><!-- #post -->

                    <article id="post-103"
                        class="post-103 post type-post status-publish format-standard hentry category-uncategorized">
                        <header class="entry-header">

                            <h1 class="entry-title">
                                <a href="/2009/09/database-column-limits-and-utf8-strings/" rel="bookmark">database
                                    column limits and utf8 strings</a>
                            </h1>
                            <div class="comments-link">
                                <a href="/2009/09/database-column-limits-and-utf8-strings/#comments">2 Replies</a>
                            </div><!-- .comments-link -->
                        </header><!-- .entry-header -->

                        <div class="entry-content">
                            <p><a href="http://www.rubyfocus.biz/">Wolf</a> <a href="http://www.ultrasaurus.com/">and
                                    I</a> fixed a bug today where we needed to truncate a string of text that we use
                                internally to annotate the database.  Now, the annotation is just for our reference, so
                                we limit it to 50 bytes &#8212; that&#8217;s bytes, mind you, not characters, even
                                though the PostgreSQL database will tell you it is &#8220;character varying(50)&#8221;
                            </p>
                            <p>We use unicode internally, specifically UTF8, which is a fabulous and widely used
                                standard.  However, it does have a challenging property where a character may be 1-4
                                bytes long. We were frustrated with what we thought ought to be a simple problem of
                                truncating a string so that it would be no more than 50 bytes.  The tricky part, of
                                course, was that the 49th byte might actually fall in the middle of a character.</p>
                            <p>To solve the problem, we added a method to the Rails Multibyte::Chars class, which is
                                part of ActiveSupport.  For those who speak Ruby, Rails and RSpec, below is the solution
                                we came up with (first the spec, then the implementation).</p>
                            <p>The solution we came up with was borrowed from the private translate_offset method. The
                                key interesting part is that you can discover whether you&#8217;ve chopped up a string
                                in the middle of a character by calling chunk.unpack(&#8216;U*&#8217;) &#8212; the
                                unpack method on String in Ruby will throw an exception when you ask it to interpret the
                                UTF-8 characters as unsigned integers with the &#8220;U&#8221; directive.</p>
                            <pre>
describe "Chars#limit_bytes" do
  it 'should return "" on ""' do
    "".mb_chars.limit_bytes(0).should == ""
    "".mb_chars.limit_bytes(1).should == ""
  end

  it 'should truncate single byte character strings as expected' do
    a = "abcd"
    a.mb_chars.limit_bytes(0).should == ''
    a.mb_chars.limit_bytes(1).should == 'a'
    a.mb_chars.limit_bytes(50).should == 'abcd'
  end

  it 'should truncate multi-byte character strings at character boundaries' do
    k = "こんいちわ"
    k.mb_chars.limit_bytes(0).should == ''
    k.mb_chars.limit_bytes(1).should == ''
    k.mb_chars.limit_bytes(3).should == 'こ'
    k.mb_chars.limit_bytes(4).should == 'こ'
    k.mb_chars.limit_bytes(5).should == 'こ'
    k.mb_chars.limit_bytes(6).should == 'こん'
    k.mb_chars.limit_bytes(7).should == 'こん'
    k.mb_chars.limit_bytes(50).should == 'こんいちわ'
  end
end

module ActiveSupport #:nodoc:
  module Multibyte #:nodoc:
    class Chars
      def limit_bytes(limit)
        limit -= 1 while !valid_boundary?(limit)
        s = @wrapped_string.slice(0,limit)
        s.mb_chars
      end

      def valid_boundary?(length)
        chunk = @wrapped_string.slice(0,length)
        begin
          chunk.unpack('U*')
          true
        rescue
          false
        end
      end
    end
  end
end
</pre>
                            <p>We&#8217;ve written this up as a <a
                                    href="https://rails.lighthouseapp.com/projects/8994/tickets/3192-should-be-able-to-truncate-a-multibyte-string-to-a-max-of-bytes">Lighthouse
                                    ticket</a> in case the Rails folk want to add it to the platform or if other people
                                developing multi-lingual database apps run into the same challenge and look there. </p>
                            <p>The above code can be used under the MIT License:</p>
                            <pre>
The MIT License (MIT)

Copyright (c) 2009 Mightyverse, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</pre>
                        </div><!-- .entry-content -->

                        <footer class="entry-meta">
                            This entry was posted in <a href="/category/uncategorized/"
                                rel="category tag">Uncategorized</a> on <a
                                href="/2009/09/database-column-limits-and-utf8-strings/" title="9:39 pm"
                                rel="bookmark"><time class="entry-date" datetime="2009-09-11T21:39:19-07:00">September
                                    11, 2009</time></a><span class="by-author"> by <span class="author vcard"><a
                                        class="url fn n" href="/author/sarah/" title="View all posts by sarah"
                                        rel="author">sarah</a></span></span>. </footer><!-- .entry-meta -->
                    </article><!-- #post -->

                    <article id="post-22"
                        class="post-22 post type-post status-publish format-standard hentry category-uncategorized">
                        <header class="entry-header">

                            <h1 class="entry-title">
                                <a href="/2009/07/how-can-i-say/" rel="bookmark">how can I say&#8230;</a>
                            </h1>
                            <div class="comments-link">
                                <a href="/2009/07/how-can-i-say/#respond"><span class="leave-reply">Leave a
                                        reply</span></a>
                            </div><!-- .comments-link -->
                        </header><!-- .entry-header -->

                        <div class="entry-content">
                            <p><a href="https://www.mightyverse.com/">Mightyverse</a> is not a translation web site or a
                                language learning site&#8230; sure you can use Mightyverse for those things, but they
                                are not the primary <a href="http://en.wiktionary.org/wiki/raison_d%27%C3%AAtre">raison
                                    d&#8217;être</a>, they don&#8217;t capture the <a
                                    href="http://en.wikipedia.org/wiki/Gestalt_psychology">gestalt</a>. The purpose of
                                Mightyverse is to help each of us convey meaning, to help us communicate across language
                                and culture &#8212; not by ignoring differences, but by embracing them.</p>
                            <p>Many phrases cannot be translated directly. You cannot understand it unless you also
                                understand some of the context and culture where that stream of sound evolved.
                                &#8220;10-4 good buddy,&#8221; &#8220;Where&#8217;s the beef?&#8221; or
                                &#8220;LOL&#8221; have complex, whimsical meaning that tie to culture. Each language has
                                such phrases and learning them allows us to connect in surprising ways.</p>
                            <p>Even when listening to someone who appears speak the same language, one can discover that
                                direct translations don&#8217;t work. I speak English, but am also fluent in geek. I can
                                hear someone say that their mongrels are all tied up and understand that they are
                                concerned about web site server performance and not the mistreatment of animals.
                                Whatever language you learned as a child, it is likely that you also speak a domain
                                specific language in some aspect of your life.</p>
                            <p>Humans are driven to invent specific words to resolve problems that we face together,
                                whether it be something as mundane as server performance or as dramatic as global
                                warming.  <a href="http://dotsub.com/view/d88e920e-9d6b-4862-a712-7259003bd00a">David
                                    Harrison speaks</a> about the value of languages that are currently threatened by
                                extinction. He describes the Yupik of Alaska who have the ability to name, and thereby
                                precisely distinguish, 99 different formations of sea ice. The naming of a thing
                                sharpens our perception of it. Harrison describes language as a technology, and the
                                Yupik language may be one of the most sensitive instruments to detect the signs of
                                climate change and global warming. Perhaps that vocabulary is worth learning.</p>
                            <p>So when you look at Mightyverse I hope you won&#8217;t only see a fun website with
                                entertaining quotes or a tool for learning basic conversational phrases in a foreign
                                language.  I hope you will catch a glimpse of what will happen when it is populated with
                                a wide swath of human language, including dialects and vocabulary too new for the
                                dictionary, languages threatened by extinction, as well as the essential expressions of
                                commonly spoken languages that are just as commonly misunderstood.  We have a million
                                ideas for how we can get from here to there, but we&#8217;re taking it one feature at a
                                time, and recording phrases at every opportunity.  We don&#8217;t have the community
                                features that we had hoped for at launch, but we do have a <a
                                    href="http://mightyverse.lefora.com">forum</a>, <a
                                    href="http://twitter.com/mightyverse">twitter</a> and this blog.  We&#8217;re
                                interested in hearing what you think.</p>
                        </div><!-- .entry-content -->

                        <footer class="entry-meta">
                            This entry was posted in <a href="/category/uncategorized/"
                                rel="category tag">Uncategorized</a> on <a href="/2009/07/how-can-i-say/"
                                title="6:13 am" rel="bookmark"><time class="entry-date"
                                    datetime="2009-07-18T06:13:44-07:00">July 18, 2009</time></a><span
                                class="by-author"> by <span class="author vcard"><a class="url fn n"
                                        href="/author/sarah/" title="View all posts by sarah"
                                        rel="author">sarah</a></span></span>. </footer><!-- .entry-meta -->
                    </article><!-- #post -->

                    <nav id="nav-below" class="navigation" role="navigation">
                        <h3 class="assistive-text">Post navigation</h3>
                        <div class="nav-previous"></div>
                        <div class="nav-next"><a href="/author/sarah/page/3/">Newer posts <span
                                    class="meta-nav">&rarr;</span></a></div>
                    </nav><!-- .navigation -->


                </div><!-- #content -->
            </section><!-- #primary -->


            <div id="secondary" class="widget-area" role="complementary">
                <aside id="search-2" class="widget widget_search">
                    <form role="search" method="get" id="searchform" class="searchform" action="/">
                        <div>
                            <label class="screen-reader-text" for="s">Search for:</label>
                            <input type="text" value="" name="s" id="s" />
                            <input type="submit" id="searchsubmit" value="Search" />
                        </div>
                    </form>
                </aside>
                <aside id="recent-posts-2" class="widget widget_recent_entries">
                    <h3 class="widget-title">Recent Posts</h3>
                    <ul>
                        <li>
                            <a href="/2016/02/travel-to-france/">Travel to France</a>
                        </li>
                        <li>
                            <a href="/2016/01/reflecting-on-mlks-dream-through-language-interpretation/">reflecting on
                                MLK&#8217;s dream through language interpretation</a>
                        </li>
                        <li>
                            <a href="/2015/11/designing-for-fun/">Designing for Fun</a>
                        </li>
                        <li>
                            <a href="/2015/01/i-have-a-dream-in-spanish-tengo-un-sueno/">I have a dream in Spanish:
                                Tengo un Sueño</a>
                        </li>
                        <li>
                            <a href="/2015/01/learn-spanish-with-digame-card-game/">Learn Spanish with ¡Dígame! card
                                game</a>
                        </li>
                    </ul>

                </aside>
                <aside id="recent-comments-2" class="widget widget_recent_comments">
                    <h3 class="widget-title">Recent Comments</h3>
                    <ul id="recentcomments">
                        <li class="recentcomments"><span class="comment-author-link"><a
                                    href='http://www.ultrasaurus.com/2009/12/japanese-geek-speak/'
                                    rel='external nofollow ugc' class='url'>Japanese geek speak - the evolving
                                    ultrasaurus</a></span> on <a
                                href="/2009/12/ruby-language/comment-page-1/#comment-311766">Ruby language</a></li>
                        <li class="recentcomments"><span class="comment-author-link"><a
                                    href='http://www.ultrasaurus.com/2010/02/agile-development-in-action/'
                                    rel='external nofollow ugc' class='url'>agile development in action - the evolving
                                    ultrasaurus</a></span> on <a
                                href="/2010/02/mightyverse-iphone-app-hits-128-downloads/comment-page-1/#comment-311765">Mightyverse
                                iPhone App hits 128 Downloads!</a></li>
                        <li class="recentcomments"><span class="comment-author-link"><a
                                    href='http://www.ultrasaurus.com/2010/08/on-bootstrapping-a-business/'
                                    rel='external nofollow ugc' class='url'>on bootstrapping a business - the evolving
                                    ultrasaurus</a></span> on <a
                                href="/2010/08/mightysushi-iphoneipad-app/comment-page-1/#comment-311764">MightySushi
                                iPhone/iPad App</a></li>
                        <li class="recentcomments"><span class="comment-author-link"><a
                                    href='http://www.ultrasaurus.com/2011/07/on-localization-and-translation/'
                                    rel='external nofollow ugc' class='url'>on localization and translation - the
                                    evolving ultrasaurus</a></span> on <a
                                href="/2011/07/brand-localization-challenges/comment-page-1/#comment-311763">Brand
                                Localization Challenges</a></li>
                        <li class="recentcomments"><span class="comment-author-link"><a
                                    href='https://nickyfsm.wordpress.com/' rel='external nofollow ugc'
                                    class='url'>Nicholas Miller</a></span> on <a
                                href="/2010/10/how-many-people-speak-a-second-language/comment-page-1/#comment-311456">how
                                many people speak a second language?</a></li>
                    </ul>
                </aside>
                <aside id="archives-2" class="widget widget_archive">
                    <h3 class="widget-title">Archives</h3>
                    <ul>
                        <li><a href='/2016/02/'>February 2016</a></li>
                        <li><a href='/2016/01/'>January 2016</a></li>
                        <li><a href='/2015/11/'>November 2015</a></li>
                        <li><a href='/2015/01/'>January 2015</a></li>
                        <li><a href='/2014/07/'>July 2014</a></li>
                        <li><a href='/2014/06/'>June 2014</a></li>
                        <li><a href='/2014/05/'>May 2014</a></li>
                        <li><a href='/2014/03/'>March 2014</a></li>
                        <li><a href='/2014/01/'>January 2014</a></li>
                        <li><a href='/2013/02/'>February 2013</a></li>
                        <li><a href='/2013/01/'>January 2013</a></li>
                        <li><a href='/2012/09/'>September 2012</a></li>
                        <li><a href='/2012/07/'>July 2012</a></li>
                        <li><a href='/2012/06/'>June 2012</a></li>
                        <li><a href='/2012/02/'>February 2012</a></li>
                        <li><a href='/2011/12/'>December 2011</a></li>
                        <li><a href='/2011/09/'>September 2011</a></li>
                        <li><a href='/2011/07/'>July 2011</a></li>
                        <li><a href='/2011/06/'>June 2011</a></li>
                        <li><a href='/2011/04/'>April 2011</a></li>
                        <li><a href='/2011/03/'>March 2011</a></li>
                        <li><a href='/2011/02/'>February 2011</a></li>
                        <li><a href='/2010/11/'>November 2010</a></li>
                        <li><a href='/2010/10/'>October 2010</a></li>
                        <li><a href='/2010/09/'>September 2010</a></li>
                        <li><a href='/2010/08/'>August 2010</a></li>
                        <li><a href='/2010/07/'>July 2010</a></li>
                        <li><a href='/2010/06/'>June 2010</a></li>
                        <li><a href='/2010/05/'>May 2010</a></li>
                        <li><a href='/2010/04/'>April 2010</a></li>
                        <li><a href='/2010/02/'>February 2010</a></li>
                        <li><a href='/2010/01/'>January 2010</a></li>
                        <li><a href='/2009/12/'>December 2009</a></li>
                        <li><a href='/2009/11/'>November 2009</a></li>
                        <li><a href='/2009/09/'>September 2009</a></li>
                        <li><a href='/2009/07/'>July 2009</a></li>
                    </ul>

                </aside>
                <aside id="categories-2" class="widget widget_categories">
                    <h3 class="widget-title">Categories</h3>
                    <ul>
                        <li class="cat-item cat-item-2"><a href="/category/development/">development</a>
                        </li>
                        <li class="cat-item cat-item-3"><a href="/category/history/">History</a>
                        </li>
                        <li class="cat-item cat-item-90"><a href="/category/hyperglot/">Hyperglot</a>
                        </li>
                        <li class="cat-item cat-item-4"><a href="/category/ipad-app/">iPad app</a>
                        </li>
                        <li class="cat-item cat-item-5"><a href="/category/iphone-app/">iPhone app</a>
                        </li>
                        <li class="cat-item cat-item-6"><a href="/category/language/">language</a>
                        </li>
                        <li class="cat-item cat-item-7"><a href="/category/language-preservation/">Language
                                Preservation</a>
                        </li>
                        <li class="cat-item cat-item-8"><a href="/category/language-revitalization/">Language
                                Revitalization</a>
                        </li>
                        <li class="cat-item cat-item-9"><a href="/category/learning/">Learning</a>
                        </li>
                        <li class="cat-item cat-item-10"><a
                                href="/category/mightyverse%e3%81%a7%e4%bd%95%e3%81%8c%e3%81%a7%e3%81%8d%e3%82%8b%e3%81%ae%ef%bc%9f/">Mightyverseで何ができるの？</a>
                        </li>
                        <li class="cat-item cat-item-11"><a href="/category/news/">News</a>
                        </li>
                        <li class="cat-item cat-item-12"><a href="/category/popular-culture/">Popular culture</a>
                        </li>
                        <li class="cat-item cat-item-13"><a href="/category/site-metrics/">Site metrics</a>
                        </li>
                        <li class="cat-item cat-item-14"><a href="/category/speeches/">Speeches</a>
                        </li>
                        <li class="cat-item cat-item-15"><a href="/category/travel/">travel</a>
                        </li>
                        <li class="cat-item cat-item-1"><a href="/category/uncategorized/">Uncategorized</a>
                        </li>
                        <li class="cat-item cat-item-16"><a href="/category/%e3%82%a2%e3%83%97/">アプ</a>
                        </li>
                    </ul>

                </aside>
            </div><!-- #secondary -->
        </div><!-- #main .wrapper -->
        <footer id="colophon" role="contentinfo">
            <div class="site-info">
                <a href="https://wordpress.org/" class="imprint" title="Semantic Personal Publishing Platform">
                    Proudly powered by WordPress </a>
            </div><!-- .site-info -->
        </footer><!-- #colophon -->
    </div><!-- #page -->

    <script type='text/javascript' src='/wp-content/themes/twentytwelve/js/navigation.js?ver=20141205'
        id='twentytwelve-navigation-js'></script>
    <script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=5.7' id='wp-embed-js'></script>
</body>

</html>